var ServiceBroadcast={version:1,downEvent:{},addDownEventListener:function(b,a){if(a){this.downEvent[b]=a}},init:function(){this.bindEvent()},up:function(a,b){console.log("ServiceBroadcast up -------------------- ok~");b.uri=a;b=JSON.stringify(b);console.log("ServiceBroadcast UP:"+b);EntAppHandler.call("sendJsonRequest",b);this.defaultSend()},bindEvent:function(){this.addDownEventListener("/anchor/taskBarInit",TaskBar.respBar);this.addDownEventListener("/rank/gift/anchor/bc",TaskBar.broadcast)},down:function(b){if(typeof b=="string"){try{b=jQuery.parseJSON(b)}catch(d){console.log(d)}}if(b&&b.uri){var c=b.uri;var a=b.data;if(ServiceBroadcast.downEvent[c]){ServiceBroadcast.downEvent[c](b)}}},defaultSend:function(){}};