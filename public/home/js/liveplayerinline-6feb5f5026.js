define("jquery",[],function(){return jQuery}),function(window,document,undefined){String.prototype.trim=function(){return this.replace(/^(\s|\u3000)*|(\s|\u3000)*$/g,"")},String.prototype.getBytes=function(){for(var e=0,t=0;t<this.length;t++)e+=this.charCodeAt(t)>256?2:1;return e},Array.prototype.indexOf=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1};var UA={ie:!!("ActiveXObject"in window&&/(msie |Trident\/.*rv\:)(\d*)/i.test(navigator.userAgent))&&RegExp.$2,init:function(){var e=navigator.userAgent;UA.browser=function(){var t="";return t=UA.ie?"ie"+UA.ie:/Chrome/.test(e)?"chrome":/Opera/.test(e)?"opera":/FireFox/.test(e)?"firefox":"other"}(),UA.system=function(){var t="";return t=/Windows NT 10.0/.test(e)?"windows 10":/Windows NT 5.1/.test(e)?"windows xp":/Windows NT 6.1/.test(e)?"windows 7":/Windows NT 6.2/.test(e)?"windows 8":/Windows NT 6.0/.test(e)?"windows vista":/Windows NT 5.2/.test(e)?"windows 2003":/Mac OS/.test(e)?"mac":/Linux/.test(e)?"linux":"other"}()}},util={domain:function(){return"yy.duowan.com"==window.location.hostname?"//yy.duowan.com":"//www.yy.com"}(),UA:UA,flash:{init:function(e,t){var n={wmode:"opaque",width:300,height:300,flashvars:"",flashUrl:"",fullscreen:!1,bgcolor:"#000000"};if("object"==typeof t){if("undefined"!=typeof t.wmode){switch(t.wmode.toLowerCase()){case"opaque":n.wmode="opaque";break;case"window":n.wmode="window";break;case"transparent":n.wmode="transparent"}n.wmode=t.wmode}"undefined"!=typeof t.width&&(n.width=t.width),"undefined"!=typeof t.height&&(n.height=t.height),"undefined"!=typeof t.flashvars&&(n.flashvars=t.flashvars),"undefined"!=typeof t.flashUrl&&(n.flashUrl=t.flashUrl),"undefined"!=typeof t.fullscreen&&(n.fullscreen=t.fullscreen),"undefined"!=typeof t.bgcolor&&(n.bgcolor=t.bgcolor)}if(""!==n.flashUrl){var r=['<object id="{$name}" name="{$name}" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10.0.32" data="{$flashUrl}" width="{$width}" height="{$height}">','<param name="movie" value="{$flashUrl}" />','<param name="flashvars" value="{$flashvars}" />','<param name="quality" value="high" />','<param name="allowScriptAccess" value="always" />','<param name="wmode" value="{$wmode}"/>','<param name="bgcolor" value="{$bgcolor}"/>','<param name="allowFullScreen" value="{$fullscreen}"/>','<param name="allowFullScreenInteractive" value="{$fullscreen}"/>','<embed id="embed_{$name}" src="{$flashUrl}" width="{$width}" allowFullScreen="{$fullscreen}" allowFullScreenInteractive="{$fullscreen}" height="{$height}" allowScriptAccess="always" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="{$flashvars}" type="application/x-shockwave-flash" wmode="{$wmode}" bgcolor="{$bgcolor}"></embed>',"</object>"].join("");return r.replace(/\{if ie\}(.*?)\{endif ie\}/g,~navigator.appName.indexOf("Microsoft")?"$1":"").replace(/\{\$name\}/g,e).replace(/\{\$width\}/g,n.width).replace(/\{\$height\}/g,n.height).replace(/\{\$flashUrl\}/g,n.flashUrl).replace(/\{\$flashvars\}/g,n.flashvars).replace(/\{\$wmode\}/g,n.wmode).replace(/\{\$bgcolor\}/g,n.bgcolor).replace(/\{\$fullscreen\}/g,n.fullscreen)}},write:function(e,t){var n=this.init(e,t);n&&document.write(n)},add:function(e,t,n){var r=this.init(t,n);e&&r&&(e.innerHTML=r)},ctrl:function(e){var t=document.getElementById(e);return~navigator.appName.indexOf("Microsoft")?"object"==t.tagName.toLowerCase()?t:"":"embed"==t.tagName.toLowerCase()?t:t.getElementsByTagName("embed")[0]}},Promise:function(e){var t=this;return t.queue=[],t.current=0,t.isResolved=!1,t.then=function(e){return"function"==typeof e&&t.queue.push(e),t},t.start=function(){var e=Array.prototype.slice.call(arguments);return t.resolve.apply(t,e),t},t.resolve=function(){var e=Array.prototype.slice.call(arguments);e.push(t.resolve),t.current&&e.push(t.queue[t.current-1]),t.current!=t.queue.length&&t.queue[t.current++].apply(t,e)},e&&t.then(e),t},type:function(e){var t,n=Object.prototype.toString;return null===e?t=String(e):(t=n.call(e).toLowerCase(),t=t.substring(8,t.length-1)),t},isPlainObject:function(e){var t,n=this,r=Object.prototype.hasOwnProperty;if(!e||"object"!==n.type(e))return!1;if(e.constructor&&!r.call(e,"constructor")&&!r.call(e.constructor.prototype,"isPrototypeOf"))return!1;for(t in e);return t===undefined||r.call(e,t)},extend:function(){var e,t,n,r,a,i,o=this,s=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},l=2),"object"!=typeof s&&"function"!==o.type(s)&&(s={}),c===l&&(s=this,--l);l<c;l++)if(null!==(e=arguments[l]))for(t in e)n=s[t],r=e[t],s!==r&&(u&&r&&(o.isPlainObject(r)||(a="array"===o.type(r)))?(a?(a=!1,i=n&&"array"===o.type(n)?n:[]):i=n&&o.isPlainObject(n)?n:{},s[t]=o.extend(u,i,r)):r!==undefined&&(s[t]=r));return s},unitFormat:function(e,t){switch(e=parseFloat(e,10),t){case 1:return e<1e5?e:e<1e8?Math.floor(e/1e4*10)/10+"万":Math.floor(e/1e8*10)/10+"亿";case 2:return parseInt(e,10).toLocaleString().replace(/\.00$/,"")||0;case 3:return parseFloat(e,10).toLocaleString().replace(/\.00$/,"")||0;case"timeLength":for(var n=Math.floor(e/3600)+"",r=Math.floor((e-3600*n)/60)+"",a=e-3600*n-60*r+"";r.length<2;)r="0"+r;for(;a.length<2;)a="0"+a;for(;n.length<2;)n="0"+n;return n+":"+r+":"+a;default:return e}},fromNow:function(e){if(!e)return!1;var t=(new Date).getTime(),n=e,r=t-n,a="",i=6e4,o=60*i,s=24*o,l=30*s,c=12*l,u=r/c,f=r/l,d=r/(7*s),h=r/s,w=r/o,p=r/i;return a=u>=1?parseInt(u)+"年前":f>=1?parseInt(f)+"个月前":d>=1?parseInt(d)+"周前":h>=1?parseInt(h)+"天前":w>=1?parseInt(w)+"个小时前":p>=1?parseInt(p)+"分钟前":"刚刚"},getUrlParams:function(){var e=window.location.search;e=e.substr(1);var t={};if(""===e)return t;for(var n=e.split("&"),r=0,a=n.length;r<a;r++){var i=n[r],o=i.split("=");t[o[0]]=o[1]}return t},request:{search:function(e){var t=location.search.replace(/[? ]/g,"");if(""===t)return null;for(var n=t.split("&"),r=0,a=n.length;r<a;r++){var i=n[r].split("=");if(!(i.length<=1)){var o=i[0],s=i[1];if(o===e)return s}}return null},hash:function(e,t){var n=location.hash.replace(/[# ]/g,""),r="undefined"!=typeof t,a=!1;if(""===n&&!r)return null;for(var i=n.split("&"),o=0,s=i.length;o<s;o++){var l=i[o].split("=");if(!(l.length<=1)){var c=l[0],u=l[1];if(c===e){if(!r)return u;i[o]=c+"="+t,a=!0}}}return a||i.push(e+"="+t),r?(window.location.hash=i.join("&"),i.join("&")):null}},eventRender:function(e,t,n){var r=e.getElementsByTagName("*"),a=function(e){var r=e.getAttribute("yy-el");r&&(t[r]=e,e.removeAttribute("yy-el"));var a,i=e.getAttribute("yy-on"),o=function(t){var r=t.split(/\s*:\s*/g),a=r[0],i=n[r[1]];r.length>1&&i&&("undefined"!=typeof $?$(e).on(a,i):e.addEventListener?e.addEventListener(a,i,!1):e.attachEvent?e.attachEvent("on"+a,function(){i.call(e)}):e["on"+a]=i)};if(i){a=i.split(",");for(var s=0,l=a.length;s<l;s++)o(a[s]);e.removeAttribute("yy-on")}};a(e);for(var i=0,o=r.length;i<o;i++)a(r[i])},isBelong:function(e,t){for(var n=t;n;n=n.parentNode)if(n===e)return!0},htmlEncode:function(e){var t=document.createElement("span");return t.innerText=e,t.innerHTML},htmlDecode:function(e){var t=document.createElement("span");return t.innerHTML=e,t.innerText},cookies:{get:function(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!==t?window.unescape(t[2]):null},set:function(e,t,n,r,a,i){n||(n=24);var o=new Date;o.setTime(o.getTime()+60*n*60*1e3),document.cookie=e+"="+window.escape(t)+";expires="+o.toGMTString()+(a?";domain="+a:"")+(r?";path="+r:"")+(i===!0?";secure":"")},del:function(e){var t=new Date;t.setTime(t.getTime()-1);var n=this.get(e);null!==n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}},JSON:window.JSON?JSON:function(){function f(e){return e<10?"0"+e:e}function stringify(e,t){var n,r,a,i,o,s=/["\\\x00-\x1f\x7f-\x9f]/g;switch(typeof e){case"string":return s.test(e)?'"'+e.replace(s,function(e){var t=m[e];return t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"';case"number":return isFinite(e)?String(e):"null";case"boolean":case"null":return String(e);case"object":if(!e)return"null";if("function"==typeof e.toJSON)return stringify(e.toJSON());if(n=[],"number"==typeof e.length&&!e.propertyIsEnumerable("length")){for(i=e.length,r=0;r<i;r+=1)n.push(stringify(e[r],t)||"null");return"["+n.join(",")+"]"}if(t)for(i=t.length,r=0;r<i;r+=1)a=t[r],"string"==typeof a&&(o=stringify(e[a],t),o&&n.push(stringify(a)+":"+o));else for(a in e)"string"==typeof a&&(o=stringify(e[a],t),o&&n.push(stringify(a)+":"+o));return"{"+n.join(",")+"}"}}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return{stringify:stringify,parse:function(text,filter){function walk(e,t){var n,r;if(t&&"object"==typeof t)for(n in t)Object.prototype.hasOwnProperty.apply(t,[n])&&(r=walk(n,t[n]),r!==undefined?t[n]=r:delete t[n]);return filter(e,t)}var j;if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof filter?walk("",j):j;throw new SyntaxError("parseJSON")}}}(),getCssProperty:function(e){for(var t=e.substr(0,1),n=e.substr(1),r=t.toUpperCase()+n,a=t.toLowerCase()+n,i=[a,"Webkit"+r,"Moz"+r,"O"+r,"-ms-"+r,"ms"+r],o=document.documentElement.style,s=0,l=i.length;s<l;s++){var c=i[s];if(c in o)return c}return null},makeArray:function(e){return Array.prototype.slice.call(e)},setVarByString:function(e,t,n){var r=t.split(".");return function a(e,t){var r=t.shift();t.length?(e[r]===undefined&&(e[r]={}),a(e[r],t)):e[r]=n}(e,r),e},getVarByString:function(e,t){for(var n=t.split("."),r=e,a=0,i=n.length;a<i&&r!==undefined;a++)r=r[n[a]];return r},trace:{enable:~location.href.indexOf("debug"),log:function(){if(this.enable&&!(UA.ie&&UA.ie<8)){var e,t=util.makeArray(arguments);t[0]="["+(new Date).toString().toLocaleString().replace(/^.* (\d+\:\d+\:\d+) .*$/,"$1")+"] "+t[0],"undefined"!=typeof console&&(UA.ie?(e=[],$(t).each(function(t,n){if("string"==typeof n)e.push(n.replace(/%c/g,"").replace(/color:\s*[^;]+;/g,""));else if("object"==typeof n)try{e.push(util.JSON.stringify(n))}catch(r){}else e.push(n)}),console.log(e.join(" "))):console.log.apply(console,t))}},info:function(){var e=util.makeArray(arguments);e=["%c[info]","color: #005982;"].concat(e),this.log.apply(this,e)},warn:function(){var e=util.makeArray(arguments);e=["%c[warning]","color: #8a8000;"].concat(e),this.log.apply(this,e)},error:function(){var e=util.makeArray(arguments);e=["%c[error]","color: #ff0000;"].concat(e),this.log.apply(this,e)},flash:function(){var e=util.makeArray(arguments);e=["%c[flash]","color: #7d0000;"].concat(e),this.log.apply(this,e)},h5:function(){var e=util.makeArray(arguments);e=["%c[h5]","color: #ff8900;"].concat(e),this.log.apply(this,e)},web:function(){var e=util.makeArray(arguments);e=["%c[web]","color: #556fb5;"].concat(e),this.log.apply(this,e)},wf:function(){var e=util.makeArray(arguments);e=["%c[web2flash]","color: #7e0043;"].concat(e),this.log.apply(this,e)},ajax:function(){var e=util.makeArray(arguments);e=["%c[AJAX]","color: #ff8900;"].concat(e),this.log.apply(this,e)}}};"undefined"!=typeof define&&define.amd?define("util",[],function(){return util}):window.util=util}(window,document),define("../w-web2player-studio/w-web2flash",["jquery","util"],function(e,t){var n={"interface":{flashUrl4Studio:(window.flashUrlPrefix||"http://webyy.yy.com/")+"s/{$sid}/{$ssid}/yycomscene.swf"},type:0,player:"",danmu:!1,vol:!1,source:"",uid:0,livedelay:0,coop:0,sid:0,ssid:0},r={ctrl:function(e){var n=document.getElementById(e);if(n)return t.UA.ie?"object"==n.tagName.toLowerCase()?n:"":"embed"==n.tagName.toLowerCase()?n:n.getElementsByTagName("embed")[0]}},a={type:"flash",ctrl:void 0,setEventListener:function(e,n){var r=this;t.setVarByString(r.listener,e,n),t.setVarByString(window,e,n)},midware:{window:{initComplete:function(e,n){var i,o=a.listener.window,s=a.listener.w2f;if(a.ctrl||(a.ctrl=r.ctrl("player")),o&&a.ctrl)for(i in o)if(o.hasOwnProperty(i)){try{a.ctrl.registerCallBack(i,i)}catch(l){console.error(l)}t.trace.web("==","registerCallBack:","window."+i)}if(s&&a.ctrl)for(i in s)s.hasOwnProperty(i)&&(a.ctrl.registerCallBack("w2f."+i,"w2f."+i),t.trace.web("==","registerCallBack:","w2f."+i));n(e)}}},listener:{},callAs:function(e,n){var r,a=this;if(n)try{return r=a.ctrl.callAs(e,n),t.trace.web("flash.callAs:",e,n,"return:",r),r}catch(i){t.trace.error("flash.callAs error:",e,n,i)}else try{return r=a.ctrl.callAs(e),t.trace.web("flash.callAs:",e,"return:",r),r}catch(i){t.trace.error("flash.callAs error:",e,i)}},build:function(a,i){var o=this,s="",l={};n=e.fn.extend({},n,a),s=n["interface"].flashUrl4Studio,l={width:n.width,height:n.height,fullscreen:!0,flashvars:["sceneType="+n.sceneType,"danmu="+n.danmu,"volume="+n.vol,"source="+n.source,"anchorId="+n.uid,"livedelay="+n.livedelay,"coop="+n.coop,"topSid="+n.sid,"subSid="+n.ssid].join("&"),flashUrl:s.replace("{$sid}",n.sid).replace("{$ssid}",n.ssid||0)},e(n.player).append(t.flash.init("player",l)),o.ctrl=r.ctrl("player"),i()}};return"undefined"!=typeof define?a:void(window.web2flash=a)}),define("../w-web2player-studio/w-web2h5",["util"],function(e){var t={width:0,height:0,sid:0,ssid:0,type:"",player:""},n={sdkPath:"//web.yystatic.com/project/group_web_h5_player/yycom_es6_live_player/pc/lib/h5player-yy-flv-yyp2p.min.js",h5playerPath:"//web.yystatic.com/project/group_web_h5_player/yycom_es6_live_player/pc/js/YYES6LivePlayer.min.js"},r={player:null,JSConst:null,setEventListenerHold:[],callback:{}},a={},i={type:"h5",ctrl:void 0,api:void 0,midware:{window:{},w2f:{}},listener:{},setEventListener:function(t,n){var i=this,o=t.replace(/\./g,"_"),s=a[o];if(!i.api)return e.trace.web("h5.setEventListener fail","she.api is not exist, hold it",t),r.setEventListenerHold.push([t,n]);if(!s)return e.trace.error("h5.setEventListener error","name map",t,"is not exist");switch(s){case a.window_updateMicList:case a.window_getUserInfoCallback:case a.window_getUserListCallback:case a.window_getChannelOnlineCountCallback:case a.w2f_retScreenShot:r.callback[s]&&(i.api.removeEvent(s,r.callback[s]),e.trace.web("reset callback:",o))}i.api.onEvent(s,function(e){return n.apply(n,e.data)})},isSupported:function(){var e=!1;if(window.pageInfo&&!window.pageInfo.h5Supported)return!1;if(/edge\//i.test(navigator.userAgent))e=!1;else if(/chrome\//i.test(navigator.userAgent)){var t=/chrome\/(0|[1-9]\d*)\.(0|[1-9]\d*)/i.exec(navigator.userAgent);if(t){var n=+t[1],r=+t[2];e=!isNaN(n)&&!isNaN(r)&&n>=45}else e=!1}return e}(),build:function(i,o){var s=this;return t=e.extend(t,i),s.isSupported?void new e.Promise(function(e){var t=Math.round(new Date/1e3/60/10);window.requirejs.config({paths:{H5Player:n.sdkPath+"?"+t,YYES6LivePlayer:n.h5playerPath+"?"+t}}),window.requirejs(["H5Player","YYES6LivePlayer"],function(t,n){n?(window.YYES6LivePlayer=n,e()):o("h5 player not supported")})}).then(function(n){var i=r.player;i&&($(i).remove(),i=null),$(t.player).append('<div id="player"></div>'),r.player=i=$("#player")[0],$(i).css("width",t.width+"px"),$(i).css("height",t.height+"px"),s.api=new window.YYES6LivePlayer(i),r.JSConst=window.YYES6LivePlayer.JSConst,s.ctrl={callAs:function(e,t){return s.callAs(e,t)},registerCallBack:function(t,n){e.trace.web("someone try to registerCallback",t,n),s.setEventListener(t,window[n])}},a={initPlayer:r.JSConst.PLAYER.INIT,resizeVideo:r.JSConst.PLAYER.RESIZE,setVolume:r.JSConst.PLAYER.SET_VOLUME,getVolume:r.JSConst.PLAYER.SET_VOLUME,setMuted:r.JSConst.PLAYER.SET_MUTED,getMicList:r.JSConst.CHANNEL.REQUEST_MIC_USER_LIST,getChannelOnlineCount:r.JSConst.CHANNEL.REQUEST_USER_COUNT,reqVirtualUser:r.JSConst.CHANNEL.REQUEST_VIRTUAL_USER_LIST,getWyy:r.JSConst.OTHERS.GET_WEB_YY,openDanmu:r.JSConst.DANMUKU.OPEN,closeDanmu:r.JSConst.DANMUKU.CLOSE,getUserList:r.JSConst.CHANNEL.REQUEST_USER_LIST,adjustQuality:r.JSConst.PLAYER.SET_QUALITY,reqReportData:null,sendBullet:r.JSConst.DANMUKU.SEND,guestLogin:r.JSConst.CHANNEL.GUEST_LOGIN,onweblogin:r.JSConst.CHANNEL.WEB_LOGIN,callEntApp:r.JSConst.ENTAPP.CALL_ENTAPP_METHOD,entAppCallback:r.JSConst.ENTAPP.ENTAPP_METHOD_CALLBACK,reqScreenShot:r.JSConst.PLAYER.REQUEST_SCREEN_CAPTURE,getUserInfo:null,isGuestLogin:r.JSConst.CHANNEL.IS_GUEST_LOGIN,sendGiftCB:r.JSConst.AMBIENCE.SEND_GIFT_CALLBACK,getUserMoralQuality:r.JSConst.USER.REQUEST_MORAL_QUALITY,userChangePlayLine:r.JSConst.PLAYER.SET_LINE,w2f_onReady:r.JSConst.PLAYER.READY,w2f_danmuReady:r.JSConst.DANMUKU.READY,w2f_onFullscreen:r.JSConst.PLAYER.FULLSCREEN_CHANGE,w2f_onEnterLiveRoom:r.JSConst.PLAYER.JOIN_LIVE_ROOM,w2f_onInitQuality:r.JSConst.PLAYER.QUALITY_UPDATE,w2f_onStatusChange:r.JSConst.PLAYER.STATUS_CHANGE,w2f_onFlashStageIn:r.JSConst.PLAYER.MOUSE_ENTER,w2f_onFlashStageOut:r.JSConst.PLAYER.MOUSE_LEAVE,w2f_onFlashCallRecommend:r.JSConst.PLAYER.SHOW_RECOMMEND,w2f_onPrivilegeFaceData:r.JSConst.NOBLE.PRIVILEGE_FACE_CONFIG,w2f_onSetPrivilegeFaceInfo:r.JSConst.NOBLE.PRIVILEGE_FACE_DATA,w2f_onNobleLevel:r.JSConst.NOBLE.LEVEL_UP,w2f_onOpenNobleBC:r.JSConst.NOBLE.BROADCAST_OPEN_OR_REOPEN,w2f_onNobleLevelUpgrade:r.JSConst.NOBLE.BROADCAST_LEVEL_UPGRADE,w2f_new_user_car_enter_bc:r.JSConst.CHANNEL.USER_CAR_ENTER,w2f_car_exit_bc:r.JSConst.CHANNEL.USER_CAR_EXIT,w2f_onTrueloveOpen:r.JSConst.TRUELOVE.OPEN,w2f_onMessage:null,w2f_connectVideo:null,w2f_onGetUserInfo:r.JSConst.CHANNEL.REQUEST_USER_INFO,w2f_onVideoLog:null,w2f_onFollowUser:r.JSConst.PLAYER.FOLLOW,w2f_onCancelFollowUser:r.JSConst.PLAYER.CANCEL_FOLLOW,w2f_onZan:null,w2f_onSponsorsClick:null,w2f_onAnchorClick:null,w2f_onAvatarClick:null,w2f_onFailSend:r.JSConst.DANMUKU.SEND_FAIL,w2f_onPubBulletData:r.JSConst.DANMUKU.BULLET_DATA,w2f_retScreenShot:r.JSConst.PLAYER.SCREEN_CAPTURE_RESULT,w2f_onThirdMonitor:null,w2f_onPlayingLineState:r.JSConst.PLAYER.LINE_UPDATE,w2f_playLineBreak:r.JSConst.PLAYER.LINE_BREAK,w2f_playLineReconnect:r.JSConst.PLAYER.LINE_RECONNECT,w2f_onGetUserMoralQuality:r.JSConst.USER.MORAL_QUALITY_UPDATE,w2f_onLoadComplete:null,window_joinChannelFail:r.JSConst.CHANNEL.JOIN_FAIL,window_joinChannelSuccess:r.JSConst.CHANNEL.JOIN_SUCCESS,window_onuserkick:r.JSConst.CHANNEL.KICK_OUT,window_updateMicList:r.JSConst.CHANNEL.MIC_USER_LIST_UPDATE,window_getChannelOnlineCountCallback:r.JSConst.CHANNEL.ONLINE_USER_COUNT_UPDATE,window_channelInfoCallback:r.JSConst.CHANNEL.BASE_INFO_UPDATE,window_getUserListCallback:r.JSConst.CHANNEL.USER_LIST_UPDATE,window_initComplete:r.JSConst.PLAYER.INIT_COMPLETE,window_loginoutwebyy:r.JSConst.CHANNEL.WEB_LOGOUT,window_getUserInfoCallback:null,window_onSendMessage:null},s.api.call(r.JSConst.PLAYER.SET_UI_OPTIONS,{showEnterButton:!1,showControlBar:!1,showFullScreenButton:!0});for(var o;r.setEventListenerHold.length;)o=r.setEventListenerHold.shift(),s.setEventListener(o[0],o[1]);s.callAs("initPlayer",{sid:t.sid,ssid:t.ssid,sceneType:t.sceneType}),window.apiTest=s.api,n()}).then(function(){o()}).start():o&&o("h5 not support")},callAs:function(t,n){var r=this;if(!r.ctrl)return e.trace.error("h5.ctrl is not defined, break");var i=a[t];return i?(e.trace.h5("api.call",i,n),r.api.call(i,n)):void e.trace.error("api.call error:",t,"key map not exists")}};return i}),define("playerUtil",["util"],function(e){var t={},n={},r={web2player:void 0,w2any:void 0,queueFunction:function(){var t=e.makeArray(arguments),n=t.shift();$(n).each(function(n,r){try{"function"==typeof r&&r.apply(r,t)}catch(a){e.trace.error(a)}})},setEventListener:function(a){var i=this;return i.web2player?i.w2any?(a.attribute&&(i.web2player[a.attribute]=function(e){var r=a.attribute+"s";t[r]||(t[r]=[]),"function"==typeof e&&(t[r].push(e),void 0!==n[a.attribute]&&e(n[a.attribute]))}),void(a.listener&&("string"==typeof a.listener?i.w2any.setEventListener(a.listener,function(n){var o=/onPubBulletData|getChannelOnlineCountCallback/.test(a.listener);if(!a.attribute){var s=a.callback&&a.callback(n);return o||("flash"===i.w2any.type?e.trace.flash("<=",a.listener,n,"return:",s):e.trace.h5("<=",a.listener,n,"return:",s)),s}o||("flash"===i.w2any.type?e.trace.flash("<=",a.listener,n):e.trace.h5("<=",a.listener,n)),new e.Promise(function(t){var r=e.getVarByString(i.w2any.midware,a.listener);r?r(n,t):t(n)}).then(function(e,t){a.callback?a.callback(e,t):t(e)}).then(function(){if(a.attribute){var e=Array.prototype.slice.call(arguments),n=a.attribute+"s";e.pop(),r.queueFunction.apply(r,[t[n]].concat(e))}}).start()}):a.listener.callback=function(n){new e.Promise(function(e){a.callback?a.callback(n,e):e(n)}).then(function(){if(a.attribute){var e=Array.prototype.slice.call(arguments),n=a.attribute+"s";e.pop(),r.queueFunction.apply(r,[t[n]].concat(e))}}).start()}))):e.trace.error("she.w2any is not defined"):e.trace.error("she.web2player is not defined")},trace:e.trace};return r}),define("web2playerStudio",["../w-web2player-studio/w-web2flash","../w-web2player-studio/w-web2h5","util","playerUtil"],function(e,t,n,r){var a,i={player:null,type:"",sid:0,ssid:0,width:200,height:100},o={crashStat:"http://statistics.yy.com/statistics/StatisticsAction.json?uri={$stat}&value={$val}"},s={initComplete:!1,micList:[],quality:{current:-1,data:[]},isReady:!1,status:"",callAsHolds:[],resid:0,zanCount:0,hasInitComplete:!1,getUserListisTimeout:!1,getUserListTimeoutKey:void 0,isBan:!1,hasPlay:!1,userCount:0,virtualCount:0,virtualUsers:[],crashKey:0,crashStat:"",changeQualityHandle:void 0,delayOnlineCount:!1};t.isSupported?(r.w2any=a=t,n.trace.info("h5 player is supported")):(r.w2any=a=e,n.trace.info("h5 player is not supported, use flash"));var l={ctrl:void 0,reset:function(e){},build:function(e,t){var r=this;i=n.extend(i,e),n.trace.web("web2player.build",e),new n.Promise(function(e){a.build(i,function(n){return n?t&&t(n):(r.ctrl=a.ctrl,void e())})}).then(function(e){r.init(i,e)}).then(function(){return t&&t()}).start()},initPlayer:function(e){var t=this;n.trace.web("webplayer.initPlayer",e),s.type=e.type,s.status="",t.callAs("initPlayer",e)},init:function(e,t){n.trace.web("web2player.init",e);var r=/^on/g;for(var a in e)e.hasOwnProperty(a)&&a.match(r)&&l[a]&&l[a](e[a]);return t&&t()},callAs:function(e,t){return s.isReady?a.callAs(e,t):(n.trace.warn("web2player.callAs noready hold it:",e,t),void s.callAsHolds.push([e,t]))},resize:function(e,t){"flash"==a.type&&a.ctrl&&(a.ctrl.width=e,a.ctrl.height=t),this.callAs("resizeVideo",{width:e,height:t})},getCurrentTimeSync:function(){var e=this;return e.callAs("getCurrentTime")}};return r.web2player=l,r.setEventListener({attribute:"onReady",listener:"w2f.onReady",callback:function(e,t){if(s.isReady)return void n.trace.warn("w2f.onReady is already run, break it");if(s.isReady=!0,"flash"===a.type&&(clearInterval(s.crashKey),s.crashKey=setInterval(function(){try{a.ctrl.callAs("heartbeat")}catch(e){clearInterval(s.crashKey),n.trace.error("sorry, the flash has crashed"),(new Image).src=o.crashStat.replace("{$stat}",s.crashStat).replace("{$val}",2)}},5e3)),s.callAsHolds.length)for(var r;s.callAsHolds.length;)r=s.callAsHolds.shift(),r.length&&l.callAs(r[0],r[1]);t(e)}}),s.onError={},r.setEventListener({attribute:"onError",listener:s.onError}),r.setEventListener({listener:"window.joinChannelFail",callback:function(e){s.onError.callback&&s.onError.callback(e.param)}}),r.setEventListener({listener:"window.onuserkick",callback:function(e){s.onError.callback&&s.onError.callback(e.param)}}),r.setEventListener({listener:"window.loginoutwebyy",callback:function(){s.onError.callback&&s.onError.callback(-1)}}),r.setEventListener({attribute:"onInitComplete",listener:"window.initComplete",callback:function(e,t){s.initComplete=!0,t(e)}}),r.setEventListener({attribute:"onStatusChange",listener:"w2f.onStatusChange",callback:function(e,t){return"stop"==e.type&&(e.type="end"),e.type==s.status?n.trace.warn("w2f.onStatusChange status is same, no callback",e.type):s.isBan&&"end"==e.type?n.trace.warn("w2f.onStatusChange end not work, because video has baned",e.type):(s.initComplete&&!s.isReady&&(n.trace.warn("w2f.onReady is delate, calling by js now"),window.w2f.onReady(void 0,!0)),s.status=e.type,clearTimeout(s.statusChangeDelayKey),void("end"==e.type?(n.trace.warn("w2f.onStatusChange end not work, cause maybe it just before videostart, delay 2s"),s.statusChangeDelayKey=setTimeout(function(){t(e.type)},2e3)):t(e.type)))}}),r.setEventListener({attribute:"onEnterLiveRoom",listener:"w2f.onEnterLiveRoom",callback:function(e,t){t(e)}}),r.setEventListener({attribute:"onMicListChange",listener:"window.updateMicList",callback:function(e,t){t(e.param)}}),r.setEventListener({attribute:"onFullscreen",listener:"w2f.onFullscreen"}),r.setEventListener({attribute:"onFlashStageOut",listener:"w2f.onFlashStageOut"}),r.setEventListener({attribute:"onFlashCallRecommend",listener:"w2f.onFlashCallRecommend"}),r.setEventListener({attribute:"onPrivilegeFaceData",listener:"w2f.onPrivilegeFaceData"}),r.setEventListener({attribute:"onSetPrivilegeFaceInfo",listener:"w2f.onSetPrivilegeFaceInfo"}),r.setEventListener({attribute:"onNobleLevel",listener:"w2f.onNobleLevel"}),r.setEventListener({attribute:"onUserCarEnter",listener:"w2f.new_user_car_enter_bc",callback:function(e,t){e.carInfo&&e.carInfo.length&&$(e.carInfo).each(function(e,t){t.userName=decodeURIComponent(t.userName)}),t(e)}}),r.setEventListener({attribute:"onUserCarExit",listener:"w2f.car_exit_bc"}),r.setEventListener({attribute:"onOpenNobleBC",listener:"w2f.onOpenNobleBC"}),r.setEventListener({attribute:"onNobleLevelUpgrade",listener:"w2f.onNobleLevelUpgrade"}),r.setEventListener({attribute:"onTrueloveOpen",listener:"w2f.onTrueloveOpen"}),r.setEventListener({attribute:"onMessage",listener:"w2f.onMessage"}),r.setEventListener({attribute:"onConnectVideo",listener:"window.connectVideo",callback:function(e,t){s.onConnectVideo=e,t(e)}}),r.setEventListener({attribute:"onGetUserInfo",listener:"w2f.onGetUserInfo"}),r.setEventListener({attribute:"onVideoLog",listener:"w2f.onVideoLog"}),r.setEventListener({attribute:"onFollowUser",listener:"w2f.onFollowUser"}),r.setEventListener({attribute:"onCancelFollowUser",listener:"w2f.onCancelFollowUser"}),r.setEventListener({attribute:"onZan",listener:"w2f.onZan"}),r.setEventListener({attribute:"onSponsorsClick",listener:"w2f.onSponsorsClick"}),r.setEventListener({attribute:"onAnchorClick",listener:"w2f.onAnchorClick"}),r.setEventListener({attribute:"onAnchorClick",listener:"w2f.onAnchorClick"}),r.setEventListener({attribute:"onAvatarClick",listener:"w2f.onAvatarClick"}),r.setEventListener({attribute:"onFailSend",listener:"w2f.onFailSend",callback:function(e,t){t(e.ecode,e.str,e.yynum,e.time,e.subCode)}}),r.setEventListener({attribute:"onPubBulletData",listener:"w2f.onPubBulletData",callback:function(e,t){var n=e;$(n.data).each(function(e,t){try{t.text=decodeURIComponent(t.text)}catch(n){}try{t.name=decodeURIComponent(t.name)}catch(n){}}),t(n)}}),r.setEventListener({attribute:"onThirdMonitor",listener:"w2f.onThirdMonitor"}),l.danmu={open:function(){var e=l;e.config.set("danmu",!0)},close:function(){var e=l;e.config.set("danmu",!1)}},l.config={cookiesname:"playerConfig",source:void 0,get:function(e,t){var r=l,a=this,i="";if(!a.source){a.source={};try{a.source=n.JSON.parse(n.cookies.get(a.cookiesname)),"object"==typeof a.source&&a.source||(a.source={})}catch(o){}void 0===a.source.danmu&&(a.source.danmu=!0),void 0===a.source.bright&&(a.source.bright=.5),void 0===a.source.vol&&(a.source.vol=.5),a.source.quality=s.quality.current}switch(t?((a.source.quality<0||s.quality.data.length&&a.source.quality>s.quality.data.length-1)&&(a.source.quality=s.quality.current),i={volumn:a.source.vol,bright:a.source.bright,quality:{data:s.quality.data,current:a.source.quality<0?s.quality.current:a.source.quality},danmu:a.source.danmu}):i={volumn:r.callAs("getVolume")&&r.callAs("getVolume").vol,bright:0,quality:{data:s.quality.data,current:a.source.quality<0?s.quality.current:a.source.quality},danmu:a.source.danmu},e){case"volumn":return n.trace.wf("web2flash.config.get("+e+","+t+")",i.volumn),i.volumn;case"quality":return n.trace.wf("web2flash.config.get("+e+", "+t+")",i.quality),i.quality;case"all":return n.trace.wf("web2flash.config.get("+e+", "+t+")",i),i;case"danmu":return n.trace.wf("web2flash.config.get("+e+", "+t+")",i.danmu),i.danmu;default:return}},set:function(e,t){var r=l,a=this;switch(e){case"volumn":"play"!=i.type?(0!==t?r.callAs("setVolume",t):r.callAs("setMuted",!0),a.source.vol=t):a.source.vol=t.vol;break;case"quality":r.callAs("adjustQuality",{quality:t}),s.quality.current=t,a.source.quality=t;break;case"line":r.callAs("userChangePlayLine",{lineIndex:t}),a.source.line=t;break;case"danmu":"studio"==i.type&&(t?r.callAs("openDanmu"):r.callAs("closeDanmu")),a.source.danmu=!!t;break;case"all":0!==t.vol?r.callAs("setVolume",t.vol):r.callAs("setMuted",!0),r.source.val=t.vol,r.callAs("adjustBrightness",t.bright),r.source.bright=t.bright,r.callAs("adjustQuality",{quality:t.quality}),r.source.quality=t.qualigy,s.quality.current=t;break;default:return}n.cookies.set(a.cookiesname,n.JSON.stringify(a.source),24,"/",window.location.hostname)}},l.getDanmu=function(){return l.config.get("danmu",!0)},l.setDanmu=function(e){l.config.set("danmu",e)},l.getVolume=function(){return l.config.get("volumn",!0)},l.setVolume=function(e){l.config.set("volumn",e)},l.isLoginSync=function(){return window.user.isLoginSync()},r.setEventListener({listener:"window.getChannelOnlineCountCallback"}),l.getUserCount=function(e){var t=this;r.setEventListener({listener:"window.getChannelOnlineCountCallback",callback:function(t){s.delayOnlineCount||(s.delayOnlineCount=!0,s.userCount=parseInt(t.param.subCount,10)||0,e(s.userCount+s.virtualCount),setTimeout(function(){s.delayOnlineCount=!1},3e3))}}),t.callAs("getChannelOnlineCount"),t.callAs("reqVirtualUser")},r.setEventListener({listener:"window.getUserListCallback"}),l.getUserList=function(e,t){var a=this,i=10,o=(e-1)*i;o>s.userCount+s.virtualCount?t([]):o>=s.userCount?t(s.virtualUsers.slice(o-s.userCount,o-s.userCount+i)):(r.setEventListener({listener:"window.getUserListCallback",callback:function(e){if(s.getUserListIsTimeout)return void n.trace.warn("web2player.getUserListCallback is timeout, break");var r=e.param,a=10;r.length&&r.length<a&&(r=r.concat(s.virtualUsers.slice(0,a-r.length))),n.trace.wf("web2player.getUserListCallback",r),clearTimeout(s.getUserListTimeoutKey),t(r)}}),s.getUserListIsTimeout=!1,clearTimeout(s.getUserListTimeoutKey),a.callAs("getUserList",{index:(e-1)*i,count:i}),s.getUserListTimeoutKey=setTimeout(function(){s.getUserListIsTimeout=!0,t(!1,"userlist get timeout")},3e3))},r.setEventListener({listener:"window.getUserInfoCallback"}),l.getUserInfo=function(e,t){var n=this;r.setEventListener({listener:"window.getUserInfoCallback",callback:function(e){t(e)}}),n.callAs("getUserInfo",{uid:e})},l.getAnchorId=function(e){var t,r=this,a=r.getMicListSync(),i=5;n.trace.web("web2flash.getAnchorId"),function o(){a=r.getMicListSync(),i--,a&&a.length?(clearTimeout(t),e(a[0])):"end"!=s.status&&i?t=setTimeout(o,500):(clearTimeout(t),e(0))}()},l.rotate=function(e){var t=this;t.callAs("rolateVideo",{rolate:e})},l.sendMessage=function(e,t){var r=this,a=i;if(!s.isReady)return void t(!1,"flash no ready");switch(a.type){case"index":break;case"play":4!=s.type&&3!=s.type||$.ajax({type:"POST",url:o.danmu.replace("{$pid}",s.resid).replace("{$currentTime}",r.getCurrentTimeSync()).replace("{$content}",encodeURIComponent(e)).replace("{$type}",s.type),timeout:3e3,success:function(a){n.trace.ajax(a),0===a.resultCode?(r.callAs("sendBullet",e),t(!0,e)):1==a.resultCode?t(!1,"您输入的内容含有敏感词，请重新输入"):2==a.resultCode?t(!1,"弹幕频率过高,继续发送会被禁言"):3==a.resultCode?t(!1,"弹幕发送失败"):t(!1)},error:function(){t(!1)}},"json");break;case"studio":r.callAs("sendMessage",e)}},l.getMicListSync=function(){
var e=this,t=e.callAs("getMicList")||[];return t},l.getMicList=function(e){var t=this;t.getAnchorId(function(){e(t.getMicListSync())})},l.getQualityListSync=function(){var e=this,t=e.callAs("getMultiVideos")||[];return t},l.zan=function(e,t){return t()},l.getPCUStatSync=function(){var e=this,t=e.callAs("reqReportData");return t?t:{}},l.setZanCount=function(e){var t=this;s.zanCount=e,t.callAs("setZanCount",{count:e})},l.setUserInfo=function(e){var t=this;t.config.get("danmu")&&(e?e.code=1:e={code:0},t.callAs("setUserInfo",e))},l.setFullscreen=function(e){var t=this;t.callAs("setFullscreen",e)},r.setEventListener({attribute:"onJoinChannel",listener:"window.joinChannelSuccess",callback:function(e,t){t(e)}}),l.joinChannel=function(){var e=this,t={username:n.cookies.get("username"),password:n.cookies.get("udb_l"),token:n.cookies.get("udb_n")};t.username&&t.password&&t.token?e.callAs("onweblogin",t):e.callAs("guestLogin")},l.getWyy=function(){var e=this;return e.callAs("getWyy")},l.reqScreenShot=function(e){var t=this;return r.setEventListener({listener:"w2f.retScreenShot",callback:function(t){e(t)}}),t.callAs("reqScreenShot")},l.setBgImg=function(e){this.callAs("setBgImg",e)},r.setEventListener({listener:"w2f.retScreenShot"}),r.setEventListener({listener:"w2f.onGetUserMoralQuality"}),l.getUserMoralQuality=function(e){r.setEventListener({listener:"w2f.onGetUserMoralQuality",callback:function(t){e(t)}}),l.callAs("getUserMoralQuality")},r.setEventListener({attribute:"onInitQuality",listener:"w2f.onInitQuality",callback:function(e,t){var n=[],r=e.current;if(2==e.qualitys.length)n.push({txt:"高清",index:0,rate:e.qualitys[0].codeRate}),n.push({txt:"流畅",index:1,rate:e.qualitys[1].codeRate});else if(e.qualitys.length>=3){var a=e.qualitys[0],i=a.codeRate,o="";o=0===i?"超清":i>=3e3&&i<8e3?"1080P":i>=8e3?"4K":"超清",n.push({txt:o,index:0,rate:i}),n.push({txt:"高清",index:e.qualitys.length-2,rate:e.qualitys[e.qualitys.length-2].codeRate}),n.push({txt:"流畅",index:e.qualitys.length-1,rate:e.qualitys[e.qualitys.length-1].codeRate})}e&&(s.quality.current=r,s.quality.data=n),s.onInitQuality=s.quality,t(s.quality)}}),r.setEventListener({attribute:"onPlayLineChangeState",listener:"w2f.onPlayingLineState",callback:function(e,t){s.onPlayingLineState=e,t(e)}}),r.setEventListener({attribute:"onPlayLineBreakState",listener:"w2f.playLineBreak"}),r.setEventListener({attribute:"onPlayLineReconnectState",listener:"w2f.playLineReconnect"}),r.setEventListener({attribute:"onDanmuReady",listener:"w2f.danmuReady",callback:function(e,t){s.danmuReady=!0,t(e)}}),r.setEventListener({attribute:"onSendMessage",listener:"window.onSendMessage"}),r.setEventListener({attribute:"onLoadComplete",listener:"w2f.onLoadComplete"}),r.setEventListener({attribute:"onChannelInfoCallback",listener:"window.channelInfoCallback",callback:function(e,t){t(e.param)}}),r.setEventListener({attribute:"onPlayVideoUid",listener:"w2f.onPlayVideoUid",callback:function(e,t){t(e.uid)}}),l.fn=r,~location.href.indexOf("debug")&&(window.web2player=l),l}),require(["web2playerStudio","util"],function(e,t){var n=window.pageInfo,r=window.header,a={liveplayer:"#playerMain",frag:"#playerMainFrag",player:"#player"},i=$(a.liveplayer).width(),o={width:i,height:9*i/16},s={sid:0,ssid:0};2==n.type&&n.livepid?(s.sid=s.ssid=n.livepid.split("_")[1],n.sid=n.ssid=s.sid):(s.sid=n.sid||0,s.ssid=n.ssid||0);var l=t.cookies.get("playerConfig");if(l)try{l=$.parseJSON(l)}catch(c){l={}}else l={};void 0===l.vol&&(l.vol=.5),void 0===l.danmu&&(l.danmu=!0);var u=n.config&&n.config.needBuffer?1:0;2==n.type&&n.livepid?(n.sid=n.livepid.split("_")[1],n.ssid=n.sid):(n.sid=n.sid||0,n.ssid=n.ssid||0),e.build({player:a.liveplayer,type:"studio",width:o.width,height:o.height,sid:s.sid,ssid:s.ssid,sceneType:n.type,danmu:l.danmu,vol:l.vol,source:encodeURIComponent(window.location.href+(window.location.search?"&":"")+"f="+r.ref+"&cpuid="+r.pcuid),uid:n.uid,livedelay:u,coop:"ly"==n.kind?1:0},function(){$(a.frag).remove()})}),define("p-liveplayerInline.js",function(){});